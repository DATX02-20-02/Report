\subsection{Building Generation}
The purpose of the BuildingGenerator is to generate different kinds of visually pleasing buildings, everything from small houses to towering Manhattan-style skyscrapers. 
Seeing as buildings are one of the most important parts of generating a convincing modern city, it is essential to have a general generator that can create any kind of building. 
The BuildingGenerator has three inputs: the plot in which to build, the terrain on which to build on top of, and the population scalar that helps determine the size of the building.
The function spawns a building into the world. 

\begin{table}[H]
    \centering
    \begin{tabular}{lllll}
      \textbf{Input}                           &               & \textbf{Function}            &               & \textbf{Output}         \\
      \midrule
      \textit{Plot, Terrain, Population}       & $\rightarrow$ & \textbf{BuildingGenerator}   & $\rightarrow$ & \textit{Building}       \\
      \bottomrule
    \end{tabular}
 
    \caption{Definition of the BlockGenerator function, which is responsible for constructing a single building on top of a plot.}
    \label{table:buildinggen}
  \end{table}
  \vspace{-0.4cm} 

Since one algorithm would not be sufficient for generating buildings of any kind, the BuildingGenerator consists of several different sub-generators, each responsible for a particular type of building, and it is the plot label decides what kind of sub-generator. 
The different sub-generators then have to take the inputs into account to generate a building.
There are two different strategies implemented in this project for generating buildings: Using an L-system or importing an existing model of a building. 

% manhattan typ aktiga byggnader passar bra h√§r
Multiple L-systems with a stochastic grammar were used to generate a unique set of buildings. 
The L-systems were implemented with type parameters to be able to handle the generation of any object.
The two types of parameters are the object type in the L-system and the data class that is used for the generation.
A building generated via L-systems has some generated floors, where each floor has walls and is built with multiple smaller wall segments. 
Texture represents the different wall segments.
Examples of wall segments can be shop windows, normal windows, and doors.
The steps for generating a Manhattan-style skyscraper are as follows:
\begin{enumerate}
    \item An L-system is used to generate different kinds of floors for the building. Note that these floor types indicate what kind of L-system should be used later for the generation of the wall segments. Example of floor types can be:
    \begin{itemize}
        \item FirstFloor - A floor that has Shop Windows and Doors
        \item OnlyWindowFloor - A floor that will only have window segments. 
        \item MirrorFloor - Generate half of the floor segments and then copy and flip it for the next half of floor segments.
    \end{itemize}
    \item Each wall is then generated, floor-by-floor. Each floor type has its own L-system to generate different wall segments.
    \item After every wall has been generated; the building is put together inside the plot.
    \item A flat roof is generated at the top of the building.
    \item The building is then placed on the highest point of the terrain within the plot. Basement walls are then generated downwards to not make the building float in the air. %techically it's the highest point of the plot.points
\end{enumerate}

% Explain how the direction of the wall is decide. Maybe draw a picture of it?

% Add ShopWindow, Window and Door images
% Add FirstFloor, OnlyWindowFloor and MirrorFloor images

Real-world buildings such as villas or kiosks were deemed too time-consuming and out of scope for this project.
The reason being that these kinds of buildings are not as repeatable as a Manhattan-style skyscraper is. 
Finished models represent some of these plot labels that do not have their generator.
With more time, one could implement L-systems for these kinds of buildings as well, but it was decided to draw the line at skyscrapers to lower the scope of the project.
