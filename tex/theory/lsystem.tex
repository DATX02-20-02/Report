\section{L-Systems}

Another fundamental concept in PCG is L-systems.
An L-system is a type of formal grammar where all symbols are evaluated in parallel.
It is built up of strings which under a set of constraints recursively grow larger and more complex with each iteration.
These strings can then used to generate complex geometric structures, often with factorial properties.
The technique's inventor, Aristid Lindenmayer originally used it to model a wide array of plants \cite{lsystem_book}.
L-systems are formally defined by three parameters which can be denoted as follows:

\begin{itemize}
  \item V  - The alphabet, consists of replaceable symbols (variables or non-terminals) and static symbols (constants or terminals).
  \item $\omega$ - The axiom, an initial variable from V which defines the initial state.
  \item P - The production rules, these are the constraints which determine how variables should be replaced.
\end{itemize}

For instance, $G(V, \omega, P) = (\{A, B\}, A, \{(A \to AB), (B \to A)\})$ would produce
\begin{align*}
  n &= 0: A \\
  n &= 1: AB \\
  n &= 2: ABA \\
  n &= 3: ABAAB \\
  n &= 4: ABAABABA \\
  &\dots
\end{align*}

for the first 4 evaluation iterations. The symbols of the resulting string can then be interpreted as different actions.
The above example could be used to build a corridor where A represents empty space and B represents a door.

There is a special case of L-systems which is called \textit{Stochastic bracketed L-systems}.
Stochastic means that all production rules have a probability of being used for an evaluation, which implies that multiple rules can target the same source string.
Bracketed means that we have a stack structure where the '\textbf{[}' symbol pushes the current state, and '\textbf{]}' pops and restores the previously pushed state.

By being able to return to a previous state, one can produce content with non-continuous generation.
This is well expressed in the book \textit{Procedural Content Generation in Games}~\cite[p.77]{pcg_in_games}, where the authors describe the limitations of non-bracketed L-systems in the following way:
\begin{center}
“While interpreting L-system-generated strings as turtle instructions allow us to draw complex fractal shapes, we are fundamentally limited by the constraint that the figures must be drawable in one continuous line—the whole shape must be drawn 'without lifting the pencil'”. 
\end{center}

The ideas from L-systems can also be extended beyond strings, with some examples being Shape grammars \cite{shape_grammars} and Graph grammars \cite{graph_grammars}.
Graph grammars use graphs from discrete mathematics instead of letters.
This difference enables graph grammars to produce non-sequential graph results, as opposed to 1-dimensional strings, making them suitable for generating quests and level layout.
Unfortunately, this feature also makes them more difficult to implement and more expensive to process than L-systems.
Shape grammars are similar, but operate on geometrical objects instead, making them suitable for Computer-aided Architectural Design (CAAD).