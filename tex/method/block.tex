\subsection{Block Generator}
\begin{center}
    \textit{Road network, Population map} $\rightarrow$ \textbf{BlockGenerator} $\rightarrow$ \textit{Block{[}{]}}
\end{center}
This generator will analyze the road network and extract areas that are suitable for building city blocks on.
We call these areas \textit{Blocks} and the formal definition can be found in the glossary.
The population map will be used to determine how densely built the \textit{Block} is expected to be.

An example of block generation can be found in Figure~\ref{fig:generatorexamples3}.
The small black roads inside the center area are streets, and the blue lines represent \textit{Plots}.
The yellow, red, and orange areas represent the three \textit{Blocks} that have been generated by the Block Generator.
In this case, the city blocks are completely enclosed within roads, but this is not necessary.
For example, if we imagine a single straight road, then blocks could be generated alongside it without being enclosed by roads.

This generator will be comprised of two algorithms.
The first will extract all areas enclosed by roads where at least one road is a street.
This can be implemented with a Minimum Cycle Basis (MCB) algorithm, which finds the shortest cycles in an undirected graph.
However, this is an NP-hard problem, making it completely unsuitable for generating large road networks.
Fortunately, our graph is restricted to a 3D space.
This restriction lets us traverse the graph by always following the rightmost edge, which results in a polynomial solution.
The 2D version of this idea is discussed in detail in a blog post written by H. Petovan \cite{mcb}.
The second algorithm will try to attach arbitrary \textit{Blocks} to roads where the population is high compared to the number of existing city blocks.
This ensures that \textit{Blocks} are also generated in areas that are not completely enclosed.
This algorithm could potentially be implemented by trial and error of trying to expand blocks from the roads.