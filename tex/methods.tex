\section{Methods}
In this project, there were two different algorithms to create the city with.
Road-first, which is based on creating the roads first and cell-road-cell-road 

*Insert Alexanders description* 

We will split the problem of city generation into the following 3 subproblems:
\begin{itemize}
  \item Landscape generation
  \item Road generation
  \item Building generation
  \item (population generation?)
\end{itemize}

In essence, to generate the city model we first generate the landscape, then the road network, and then finally the buildings. 

\subsection{Landscape generation}
We will approach this subproblem by first generating a height map that represents the hills and the valleys of the landscape.
We plan to generate the height map using multiple layers of simplex noise.
The user will provide a value for the sea level in the form of a number, and we will color the terrain based on the height levels e.g.\ grasslands near sea level, rocky mountain textures for the taller regions, and snow for top peaks of some of the taller mountains.
The landscape might end up looking something like this, although with less water and mountains, and more flat areas for cities to be placed.

To make the terrain more interesting we will also generate trees and grass throughout the world.
This is intended as a stretch goal though.
The way we intend to do this is to use poisson disc sampling to distribute points for trees, and then for grass. % source: https://odr.chalmers.se/handle/20.500.12380/244588
We should sample trees first since they will have a larger radius.

\subsection{Road Generation}
We will approach this subproblem by first allowing the user to decide where city generation shall commence by giving them the option to place a starting point for the roads to be constructed.
The size of the city generated is defined by the user, maximum being the size of the available landscape.
Cities far away from each other will be connected by highways, and there can exist a randomly generated 

For the road construction, we have two options.
One using the “road-first” strategy, and the other “cell-road”.

\subsubsection{Road-First}
The generation sequence for this strategy would be as follows.
\begin{enumerate}
  \item Plotting out cities with different types (circular, manhattan, chaotic)
  \item Main roads
  \item Streets
  \item Cells with different cell types (park, empty, industrial, etc)
  \item Subdivision of cells
  \item Creation of buildings
\end{enumerate}

The user should be able to specify exactly where cities should begin their generation sequence.
Choosing which type of city
and also which city type it has, which will affect the resulting layout of the city.

The generation of the cities are handled by so called `Agents', whose only job is to walk around the landscape and leave roads behind them.
Agents can also decide to create more agents that will branch away from the road.
This type of generation results in a lot of flexibility, because each agent can be configured to walk around differently.
All agents has a strategy that they will follow, and when they are finished they simply terminate.
Agent strategies describe where an agent will take its next step, and also when it should terminate.
This type of setup means agents can switch out their strategy at any time, for example when an agent leaves the radius of a city, it can change its strategy to a highway-type strategy.

To describe a highway-type strategy, first there needs to be a definition of a population map. The population map is a generated noise which describes density of populations, and most strategies
will respect the density and react accordingly, to create a denser area in some places. It also defines the rough shape of the city, because lower population means less roads.
Now, highways react differently to this population map than other strategies. Instead of generating more roads in denser areas, it will attempt to follow the population map towards denser areas.
That means that once an agent leaves a city and switches to a highway-type strategy, it will attempt to travel to nearby areas with higher population density.

However, that does not mean there is always a city in the denser areas, it might find an area without a city. The idea is that the highway strategy can also create new cities if it comes across
a very dense area and has not connected to an existing city. There are cases where a city can be created right next to another city, but that would just result in both cities merging into one.


\subsubsection{Cell-Road}
For this generation sequence, the entire world consists of cells.
Intersection points and the main road is generated (algorithmically?) between them.
The resulting polygon areas that are created by this action will be divided into sub-cells, which will generate new intersection points that will connect to the main road. (This could either be done by making sure they all connect to the main junction point or a possible solution where every main road has an array of possible intersection points which is iterated through).
Intersections should consider a somewhat “random” pattern, by making the intersections be based on the total area they enclose.
Some entities will be generated by applying the road-type and the sub-cells to the algorithm.
This solution could support targeted regeneration, i.e. to allow only a subset of the city to be regenerated, compared to simply regenerating the entire city.

We will use quad trees (|| grids) for deciding overlapping intersections for performance reasons.
This way we will not check the entire array of intersections, only the nearest within the vicinity.

\subsection{Building Generation}
To start with, the buildings’ detail will be basic.
Concretely, they would look like simple cuboids with varying heights depending on what district they exist in (be it in the midst of the city or by the outskirts).
This because we do not want to focus on modeling as it is a very time-consuming task.
Small details such as windows, colour or similar considerate details might be added depending on time for the sake of beautifying, but it is not the focus for this project.
